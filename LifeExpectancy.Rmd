---
title: "Life Expectancy in Baltimore"
author: "Yifan Zhou"
date: "September 15, 2016"
output: html_document
---

```{r load_package,warning=FALSE,message=FALSE}
#install.packages("maptools")
#install.packages("maps")
#install.packages("rgdal")
#install.packages("rgeos")
library(maps)
library(maptools)
library(rgdal)
library(rgeos)
```

#Lab for this week:

???A specific, quantitative statement of the question you are asking 

A description of the data you (a) have in hand and (b) that you plan to collect

Any analysis/data collection you have done

In an Rmd file ready for display



# Scientific Question

Develop a model for predicting life expectancy in Baltimore down to single block resolution with estimates of uncertainty. 

# Preparation
## Dataset (potential predictors)
Demographics: Age, gender, race...

Socioeconomic Characteristics: Income, Employment rate, poverty rate, percent of single-parent households...

Education: Reading proficiency, School absenteeism, adult education attainment... 

Community Built and Social Environment: Alcohol/tobacco store density, juvenile arrest rate, domestic violence rate...

Housing: Lead paint violation rate, energy cut-off rate, vacant building density...

Food Environment: Fast food density, carryout density, corner store density, supermarket proximity...

Health Outcomes: Life expectancy and premature mortality, avertable deaths, top ten casuses of death...

## Explore Data



```{r input_block_shapefile, eval=FALSE}
block_url<-"http://www.mdp.state.md.us/msdc/census/cen2010/maps/tiger10/blk2010.zip"
download.file(block_url,destfile="./data/blk2010.zip")
dir.create("./data/blk2010")
unzip("./data/blk2010.zip",exdir="./data/blk2010")
map <- readOGR("./data/blk2010", "blk2010")
map_wgs84 <- spTransform(map, CRS("+proj=longlat +datum=WGS84"))
bal<-map_wgs84[map_wgs84@data$CNTY2010==24510,]
save(bal,file="bal_block.rda")
```

```{r block_data, fig.height=8,fig.width=8}
load("./data/bal_block.rda")
plot(bal,axes=TRUE)
head(bal@data)
#dim(bal)
#bal@polygons[[1]]

# For example, block 245100401001005:
#bal1000<-bal[bal@data$BLK2010==245100401001005,]
#plot(bal1000,axes=TRUE)


```

